"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5997],{3923:(S,P,o)=>{o.d(P,{$o:()=>h,_G:()=>a,Vq:()=>p,SQ:()=>s});var h=function(t){return t.Loaded="applePayLoaded",t.FailedToLoad="applePayFailedToLoad",t.Completed="applePayCompleted",t.Canceled="applePayCanceled",t.Failed="applePayFailed",t.DidSelectShippingContact="applePayDidSelectShippingContact",t.DidCreatePaymentMethod="applePayDidCreatePaymentMethod",t}(h||{}),a=function(t){return t.Loaded="googlePayLoaded",t.FailedToLoad="googlePayFailedToLoad",t.Completed="googlePayCompleted",t.Canceled="googlePayCanceled",t.Failed="googlePayFailed",t}(a||{}),p=function(t){return t.Loaded="paymentFlowLoaded",t.FailedToLoad="paymentFlowFailedToLoad",t.Opened="paymentFlowOpened",t.Created="paymentFlowCreated",t.Completed="paymentFlowCompleted",t.Canceled="paymentFlowCanceled",t.Failed="paymentFlowFailed",t}(p||{}),s=function(t){return t.Loaded="paymentSheetLoaded",t.FailedToLoad="paymentSheetFailedToLoad",t.Completed="paymentSheetCompleted",t.Canceled="paymentSheetCanceled",t.Failed="paymentSheetFailed",t}(s||{})},5997:(S,P,o)=>{o.r(P),o.d(P,{PaymentSheetPageModule:()=>z});var h=o(8434),a=o(4341),p=o(7125),s=o(33),t=o(467),f=o(1594),m=o(9350);function g(r,u){const M="object"==typeof u;return new Promise((n,i)=>{let d,c=!1;r.subscribe({next:y=>{d=y,c=!0},error:i,complete:()=>{c?n(d):M?n(u.defaultValue):i(new m.G)}})})}var C=o(5312),x=o(5083),v=o(3923);const l=(0,x.F3)("Stripe",{web:()=>o.e(1651).then(o.bind(o,1651)).then(r=>new r.StripeWeb)});var F=o(3165),e=o(1360),I=o(9765),R=o(9190),D=o(8880),k=o(7185);const j=[{path:"",component:(()=>{var r;class u{constructor(n,i,c,d){this.http=n,this.router=i,this.userStateService=c,this.platform=d,this.buffer=.06,this.progress=1,this.data={amount:100,currency:"BRL"},l.initialize({publishableKey:C.c.stripe.publishableKey})}pay(){var n=this;return(0,t.A)(function*(){n.platform.is("android")?yield n.googlepay():n.platform.is("ios")?yield n.applePay():console.warn("Nenhum m\xe9todo de pagamento nativo dispon\xedvel neste ambiente")})()}httpPost(n){return this.http.post(`${C.c.api}/payment-sheet`,n).pipe((0,f.$)())}paymentShet(){var n=this;return(0,t.A)(function*(){try{l.addListener(v.SQ.Completed,()=>{console.log("PaymentSheetEventsEnum.Completed")});const i=localStorage.getItem("token"),c=new F.Lr({Authorization:`${i}`}),d=n.http.post(`${C.c.api}/payment-sheet`,n.data,{headers:c}).pipe((0,f.$)()),{paymentIntent:y,ephemeralKey:O,customer:_}=yield g(d);yield l.createPaymentSheet({paymentIntentClientSecret:y,customerId:_,customerEphemeralKeySecret:O,merchantDisplayName:"Caloria de bolso"});const b=yield l.presentPaymentSheet();b&&b.paymentResult===v.SQ.Completed&&n.aplitAndJoin(y)}catch(i){console.log(i,"payment-sheet")}})()}paymentFlow(){var n=this;return(0,t.A)(function*(){l.addListener(v.Vq.Completed,()=>{console.log("PaymentFlowEventsEnum.Completed")});const i=n.httpPost(n.data),{paymentIntent:c,ephemeralKey:d,customer:y}=yield g(i);yield l.createPaymentFlow({paymentIntentClientSecret:c,customerEphemeralKeySecret:d,customerId:y,merchantDisplayName:"Technyks"});const O=yield l.presentPaymentFlow();console.log(O),(yield l.confirmPaymentFlow()).paymentResult===v.Vq.Completed&&n.aplitAndJoin(c)})()}applePay(){var n=this;return(0,t.A)(function*(){if(void 0===l.isApplePayAvailable().catch(O=>{console.log(O)}))return;l.addListener(v.$o.Completed,()=>{console.log("ApplePayEventsEnum.Completed")});const c=n.httpPost(n.data),{paymentIntent:d}=yield g(c);yield l.createApplePay({paymentIntentClientSecret:d,paymentSummaryItems:[{label:"Technyks",amount:1099}],merchantIdentifier:"rdlabo",countryCode:"BR",currency:"BRL"}),(yield l.presentApplePay()).paymentResult===v.$o.Completed&&(n.aplitAndJoin(d),n.router.navigate(["/escolher-dieta"]))})()}googlepay(){var n=this;return(0,t.A)(function*(){if(void 0===l.isGooglePayAvailable().catch(b=>{console.log(b)}))return;l.addListener(v._G.Completed,()=>{console.log("GooglePayEventsEnum.Completed")});const c=localStorage.getItem("token"),d=new F.Lr({Authorization:`${c}`}),y=n.http.post(`${C.c.api}/payment-sheet`,n.data,{headers:d}).pipe((0,f.$)()),{paymentIntent:O}=yield g(y);yield l.createGooglePay({paymentIntentClientSecret:O,paymentSummaryItems:[{label:"Technyks",amount:1099}],merchantIdentifier:"merchant.com.getcapacitor.stripe",countryCode:"BR",currency:"BRL"}),(yield l.presentGooglePay()).paymentResult===v._G.Completed&&(n.aplitAndJoin(O),n.router.navigate(["/escolher-dieta"]))})()}aplitAndJoin(n){const i=n.split("_").slice(0,2).join("_");return console.log("paymentIntent"),i}}return(r=u).\u0275fac=function(n){return new(n||r)(e.rXU(F.Qq),e.rXU(I.Ix),e.rXU(R.q),e.rXU(D.OD))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-payment-sheet"]],standalone:!1,decls:41,vars:3,consts:[[2,"display","flex","align-items","center","flex-direction","column"],[2,"width","352px",3,"backRoute","progress","h1"],[1,"body"],[1,"body_meio"],[1,"beneficios"],["checked","true","disabled","true"],[1,"body_plano"],[1,"title"],[1,"valor","title"],[3,"click"]],template:function(n,i){1&n&&(e.j41(0,"main",0),e.nrm(1,"app-progress-h1",1),e.j41(2,"section",2)(3,"div")(4,"h1"),e.EFF(5,"Por que usar este app?"),e.k0s()(),e.j41(6,"div",3)(7,"div",4),e.nrm(8,"ion-checkbox",5),e.j41(9,"p"),e.EFF(10,"Desenvolvido por especialista em nutri\xe7\xe3o"),e.k0s()(),e.j41(11,"div",4),e.nrm(12,"ion-checkbox",5),e.j41(13,"p"),e.EFF(14,"Planos atualizados mensalmente"),e.k0s()(),e.j41(15,"div",4),e.nrm(16,"ion-checkbox",5),e.j41(17,"p"),e.EFF(18,"Card\xe1pios saud\xe1veis e pr\xe1ticos"),e.k0s()(),e.j41(19,"div",4),e.nrm(20,"ion-checkbox",5),e.j41(21,"p"),e.EFF(22,"Ideal prara: emagrecer, manter ou ganhar peso"),e.k0s()(),e.j41(23,"div",4),e.nrm(24,"ion-checkbox",5),e.j41(25,"p"),e.EFF(26,"acesso r\xe1pido e f\xe1cil pelo celular"),e.k0s()()(),e.j41(27,"div",6)(28,"div",7)(29,"h3"),e.EFF(30,"Desbloqueie seu plano personalizado"),e.k0s()(),e.j41(31,"div",8)(32,"p"),e.EFF(33,"por apenas"),e.k0s(),e.j41(34,"h3"),e.EFF(35,"R$"),e.k0s(),e.j41(36,"h1"),e.EFF(37,"49,90"),e.k0s()(),e.j41(38,"ion-button",9),e.bIt("click",function(){return i.pay()}),e.j41(39,"p"),e.EFF(40,"Pagar agora!"),e.k0s()()()()()),2&n&&(e.R7$(),e.Y8G("backRoute","/imc")("progress",i.progress)("h1",""))},dependencies:[p.Jm,p.eY,p.hB,k.U],styles:["main[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:start;padding:0 0 40px;justify-content:center;align-items:center;background-color:#fff;font-family:Montserrat,sans-serif!important}main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{height:530px;width:360px;border-radius:30px;padding:0 15px;display:flex;flex-direction:column;justify-content:center;gap:10px;background-color:#f2f2f2}main[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;color:var(--azul-1);font-size:x-large;margin:0;padding-left:20px}main[_ngcontent-%COMP%]   .body_meio[_ngcontent-%COMP%]{padding-left:20px}main[_ngcontent-%COMP%]   .body_meio[_ngcontent-%COMP%]   .beneficios[_ngcontent-%COMP%]{color:var(--azul-1);display:flex;align-items:center;gap:8px;height:35px;font-size:11.5px;font-weight:600}main[_ngcontent-%COMP%]   .body_meio[_ngcontent-%COMP%]   .beneficios[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--checkbox-background-checked: var(--azul-1);--border-color-checked: var(--azul-1);--checkmark-color: white}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;margin-bottom:6px}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:large;font-weight:700;width:200px;color:var(--azul-1)}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{flex-direction:column;position:relative}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;width:200px;font-weight:700}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-right:65px;color:var(--azul-1)}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{position:absolute;left:0;color:var(--azul-1)}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--azul-1);font-size:40px}main[_ngcontent-%COMP%]   .body_plano[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: var(--azul-1) !important;--border-radius: 5px;text-transform:none;width:100%;height:45px;margin:0;color:#fff;font-family:Montserrat,sans-serif!important}"]}),u})()}];let L=(()=>{var r;class u{}return(r=u).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[s.iI.forChild(j),s.iI]}),u})();var U=o(3405);let z=(()=>{var r;class u{}return(r=u).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[h.MD,a.YN,p.bv,L,U.y,k.U]}),u})()},7185:(S,P,o)=>{o.d(P,{U:()=>s});var h=o(8467),a=o(1360),p=o(9765);let s=(()=>{var t;class f{constructor(g){this.router=g,this.buffer=.06,this.progress=0,this.h1=""}ngOnInit(){}telaAnterior(){this.backRoute?this.router.navigateByUrl(this.backRoute):history.back()}}return(t=f).\u0275fac=function(g){return new(g||t)(a.rXU(p.Ix))},t.\u0275cmp=a.VBU({type:t,selectors:[["app-progress-h1"]],inputs:{progress:"progress",h1:"h1",backRoute:"backRoute"},decls:5,vars:2,consts:[[1,"progress"],["name","chevron-back-outline",2,"color","var(--azul-1)","font-size","30px",3,"click"],[1,"progress_bar",3,"value"]],template:function(g,C){1&g&&(a.j41(0,"div",0)(1,"ion-icon",1),a.bIt("click",function(){return C.telaAnterior()}),a.k0s(),a.nrm(2,"ion-progress-bar",2),a.k0s(),a.j41(3,"h1"),a.EFF(4),a.k0s()),2&g&&(a.R7$(2),a.Y8G("value",C.progress),a.R7$(2),a.JRh(C.h1))},dependencies:[h.iq,h.FH],styles:[".progress[_ngcontent-%COMP%]{align-items:center;gap:40px;width:93%;display:flex;margin-top:30px}.progress_bar[_ngcontent-%COMP%]{--progress-background: var(--azul-1);--background: var(--laranja);border-radius:30px}h1[_ngcontent-%COMP%]{font-weight:bolder;color:var(--azul-1);font-size:30px;font-family:Montserrat,sans-serif;text-align:center}"]}),f})()},9190:(S,P,o)=>{o.d(P,{q:()=>p});var h=o(1360);const a="tempUserData";let p=(()=>{var s;class t{constructor(){this.tempUserData={};const m=localStorage.getItem(a);if(m)try{this.tempUserData=JSON.parse(m)}catch{this.tempUserData={}}}setPartialData(m){this.tempUserData={...this.tempUserData,...m},localStorage.setItem(a,JSON.stringify(this.tempUserData))}getCurrentData(){return this.tempUserData}clearData(){this.tempUserData={},localStorage.removeItem(a)}}return(s=t).\u0275fac=function(m){return new(m||s)},s.\u0275prov=h.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),t})()}}]);