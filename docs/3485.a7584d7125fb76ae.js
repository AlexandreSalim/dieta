"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(x,p,r)=>{r.r(p),r.d(p,{LoginPageModule:()=>O});var c=r(8434),e=r(4341),h=r(7125),m=r(33),g=r(8467),M=r(980),n=r(1360),P=r(9765),v=r(8153);function C(t,a){if(1&t&&(n.j41(0,"div",9)(1,"ion-note"),n.EFF(2),n.k0s()()),2&t){const l=n.XpG();n.R7$(2),n.JRh(l.errorMessage)}}const b=[{path:"",component:(()=>{var t;class a{constructor(i,o){this.router=i,this.authenticationService=o,this.formulario=new e.gE({email:new e.MJ("",{nonNullable:!0,validators:[e.k0.required,e.k0.email]}),password:new e.MJ("",{nonNullable:!0,validators:[e.k0.required]})}),this.showError=!1,this.errorMessage="",this.isLoading=!1}ngOnInit(){}onLogin(){if(this.formulario.invalid)return void this.formulario.markAllAsTouched();this.isLoading=!0;const i=this.formulario.getRawValue();this.authenticationService.login(i).pipe((0,M.j)(()=>this.isLoading=!1)).subscribe({next:()=>{this.authenticationService.getUser().subscribe({next:o=>{this.user=o,this.router.navigate(null==o.age||"Other"===o.gender||null==o.goal||null==o.height_cm||null==o.weight_kg?["/escolha"]:["/home"])},error:o=>{console.error("Erro ao buscar usu\xe1rio:",o)}})},error:o=>{var s,d,u,f;this.showError=!0,this.errorMessage=401===o.status?null!==(s=null==o||null===(d=o.error)||void 0===d?void 0:d.message)&&void 0!==s?s:"Credenciais inv\xe1lidas.":null!==(u=null==o||null===(f=o.error)||void 0===f?void 0:f.message)&&void 0!==u?u:"Falha no login.",console.error("Erro de login:",o)}})}cadastrar(){this.router.navigate(["/cadastro"])}}return(t=a).\u0275fac=function(i){return new(i||t)(n.rXU(P.Ix),n.rXU(v.k))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-login"]],decls:16,vars:3,consts:[["aria-hidden","false",3,"fullscreen"],[1,"body"],[3,"formGroup"],[1,"form-field"],["fill","outline","placeholder","Email:","id","Email","type","email","formControlName","email",1,"input-field"],["fill","outline","placeholder","Senha:","id","Senha","type","password","formControlName","password",1,"input-field"],["class","error-message","style","margin-top: 10px",4,"ngIf"],[1,"cadastroOuLogin"],[3,"click"],[1,"error-message",2,"margin-top","10px"]],template:function(i,o){1&i&&(n.j41(0,"ion-content",0)(1,"main",1)(2,"h1"),n.EFF(3,"Login"),n.k0s(),n.j41(4,"form",2)(5,"div",3),n.nrm(6,"ion-input",4)(7,"ion-input",5),n.k0s(),n.DNE(8,C,3,1,"div",6),n.j41(9,"div",7)(10,"ion-button",8),n.bIt("click",function(){return o.onLogin()}),n.EFF(11,"Logar"),n.k0s(),n.j41(12,"p"),n.EFF(13,"N\xe3o tem uma conta? "),n.j41(14,"span",8),n.bIt("click",function(){return o.cadastrar()}),n.EFF(15,"Cadastre-se"),n.k0s()()()()()()),2&i&&(n.Y8G("fullscreen",!0),n.R7$(4),n.Y8G("formGroup",o.formulario),n.R7$(4),n.Y8G("ngIf",o.showError))},dependencies:[g.JI,g.Jm,g.$w,g.W9,c.MD,c.bT,e.X1,e.qT,e.BC,e.cb,e.j4,e.JD],styles:[".body[_ngcontent-%COMP%]{background:#fff;height:100vh;width:100%;overflow:hidden;display:flex;align-items:center;justify-content:center;flex-direction:column;color:#000;gap:20px;font-family:Montserrat,sans-serif!important}.body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;color:var(--azul-1)}.body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:310px}.body[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;font-size:14px;background-color:#ffffff2c;color:#000;--border-width: none;border:solid 1px var(--azul-1);border-radius:30px;min-height:45px;--placeholder-color: black;font-weight:700}.body[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:8px}.body[_ngcontent-%COMP%]   .cadastroOuLogin[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;color:var(--azul-1);font-family:Montserrat,sans-serif!important}.body[_ngcontent-%COMP%]   .cadastroOuLogin[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:var(--azul-1);--background: var(--laranja);--border-radius: 20px;height:37px;text-transform:none;font-size:20px;font-weight:700;margin-top:20px}.body[_ngcontent-%COMP%]   .cadastroOuLogin[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-style:italic}.body[_ngcontent-%COMP%]   .cadastroOuLogin[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;border-bottom:1px solid var(--azul-1)}.body[_ngcontent-%COMP%]   .separador[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center;justify-content:center;gap:4px;font-style:italic}.body[_ngcontent-%COMP%]   .separador[_ngcontent-%COMP%]   .linha[_ngcontent-%COMP%]{width:50%;height:1px;border-bottom:1px solid black}.body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background-color:transparent;border-radius:30px;height:45px;width:100%;color:#000;display:flex;align-items:center;gap:10px;font-style:italic;font-family:Montserrat,sans-serif!important;font-size:15px}.body[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;width:40px;font-size:30px}.error-message[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{display:block;margin-bottom:4px;--color: #eb445a;font-size:.8rem;padding-left:16px;font-family:Montserrat,sans-serif!important}"]}),a})()}];let y=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[m.iI.forChild(b),m.iI]}),a})(),O=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[c.MD,e.YN,h.bv,y]}),a})()}}]);