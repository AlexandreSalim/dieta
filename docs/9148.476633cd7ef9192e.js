"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9148],{9148:(y,l,a)=>{a.r(l),a.d(l,{ImcPage:()=>S});var u=a(467),g=a(8434),m=a(4341),d=a(8467),p=a(5873),h=a(5079),C=a(7185),e=a(1360);let M=(()=>{var s;class c{constructor(){}ngOnInit(){}}return(s=c).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.VBU({type:s,selectors:[["app-info-popover"]],decls:5,vars:0,consts:[[1,"ion-padding"]],template:function(t,n){1&t&&(e.j41(0,"ion-content",0)(1,"h3"),e.EFF(2,"O que \xe9 IMC?"),e.k0s(),e.j41(3,"p"),e.EFF(4," O \xcdndice de Massa Corp\xf3rea (IMC) \xe9 uma medida internacional usada para calcular se voc\xea est\xe1 dentro do peso ideal, levando em conta sua altura e seu peso. "),e.k0s()())},dependencies:[d.W9],encapsulation:2}),c})();var P=a(9765),x=a(9190),f=a(8153),v=a(7125);const O=["span1"],b=["span2"],I=["span3"],_=["span4"];let S=(()=>{var s;class c{constructor(t,n,o,i){this.router=t,this.userStateService=n,this.authenticationService=o,this.popoverCtrl=i,this.buffer=.06,this.progress=.8,this.imc="",this.situacao="",this.mensagemSituacao="",this.text="",this.titleText="",this.error="",(0,h.a)({informationCircleOutline:p.jdS,chevronBackOutline:p.fKZ})}ngOnInit(){const t=this.userStateService.getCurrentData();this.altura=t.height,this.peso=t.weight,setTimeout(()=>this.calculo(),300)}ionViewWillEnter(){const t=this.userStateService.getCurrentData();this.altura=t.height,this.peso=t.weight,this.calculo()}calculo(){const t=Number(this.altura)/100,n=Number(this.peso)/Math.pow(Number(this.altura)/100,2);this.imc=n.toFixed(1),n<18.5?(this.situacao="Magreza",this.mensagemSituacao="Voc\xea est\xe1 abaixo do peso ideal",this.text="Aten\xe7\xe3o: Seu IMC indica baixo peso. Recomendamos buscar orienta\xe7\xe3o de um nutricionista para uma dieta balanceada e pr\xe1tica segura de exerc\xedcios f\xedsicos para ganho de massa muscular de forma saud\xe1vel.",this.span1.nativeElement.style.padding="8px"):n<24.9?(this.situacao="Normal",this.mensagemSituacao="Voc\xea est\xe1 no peso ideal",this.text="Parab\xe9ns! Seu peso est\xe1 dentro da faixa considerada saud\xe1vel. Mantenha h\xe1bitos alimentares balanceados e pratique atividades f\xedsicas regularmente para preservar sua sa\xfade e qualidade de vida.",this.span2.nativeElement.style.padding="8px"):n<29.9?(this.situacao="Sobrepeso",this.mensagemSituacao="Voc\xea est\xe1 acima do peso ideal",this.text="Cuidado: Seu IMC indica sobrepeso. Considere ajustar seus h\xe1bitos alimentares e aumentar a atividade f\xedsica. Pequenas mudan\xe7as como reduzir por\xe7\xf5es e caminhar diariamente podem fazer grande diferen\xe7a.",this.span3.nativeElement.style.padding="8px"):n<34.9?(this.situacao="Obesidade grau I",this.mensagemSituacao="Aten\xe7\xe3o: Risco elevado",this.text="Seu IMC indica Obesidade Grau I. Recomendamos consultar um m\xe9dico para avalia\xe7\xe3o e orienta\xe7\xf5es personalizadas. A perda de peso controlada pode reduzir riscos de doen\xe7as cardiovasculares e diabetes.",this.span4.nativeElement.style.padding="8px"):n<39.9?(this.situacao="Obesidade grau II",this.mensagemSituacao="Risco muito elevado",this.text="Seu IMC indica Obesidade Grau II. \xc9 importante buscar acompanhamento m\xe9dico especializado. Programas estruturados de perda de peso com profissionais de sa\xfade podem ajudar a melhorar sua qualidade de vida.",this.span4.nativeElement.style.padding="8px"):(this.situacao="Obesidade grau III",this.mensagemSituacao="Risco cr\xedtico de sa\xfade",this.text="Seu IMC indica Obesidade Grau III (obesidade m\xf3rbida). Recomendamos urgentemente procurar atendimento m\xe9dico para avalia\xe7\xe3o de riscos e op\xe7\xf5es de tratamento. Existem diversas estrat\xe9gias terap\xeauticas que podem ajudar.",this.span4.nativeElement.style.padding="8px"),this.pesoIdealMin=Math.round(18.5*t*t),this.pesoIdealMax=Math.round(24.9*t*t)}presentPopover(t){var n=this;return(0,u.A)(function*(){yield(yield n.popoverCtrl.create({component:M,event:t,translucent:!0,cssClass:"custom-popover"})).present()})()}payment(){const t=this.userStateService.getCurrentData(),n={age:Number(t.age),gender:t.gender,height_cm:Number(t.height),weight_kg:Number(t.weight),goal:t.goal};console.log(n),this.authenticationService.createUserHealth(n).subscribe({next:()=>{console.log("\u2714\ufe0f tudo enviado com sucesso, indo para payment"),this.router.navigate(["/payment-sheet"])},error:o=>{var i;console.error("\u{1f6ab} erro final:",o),this.error=(null==o||null===(i=o.error)||void 0===i?void 0:i.message)||"falha ao se cadastrar"}})}}return(s=c).\u0275fac=function(t){return new(t||s)(e.rXU(P.Ix),e.rXU(x.q),e.rXU(f.k),e.rXU(v.IE))},s.\u0275cmp=e.VBU({type:s,selectors:[["app-imc"]],viewQuery:function(t,n){if(1&t&&(e.GBs(O,5),e.GBs(b,5),e.GBs(I,5),e.GBs(_,5)),2&t){let o;e.mGM(o=e.lsd())&&(n.span1=o.first),e.mGM(o=e.lsd())&&(n.span2=o.first),e.mGM(o=e.lsd())&&(n.span3=o.first),e.mGM(o=e.lsd())&&(n.span4=o.first)}},decls:39,vars:10,consts:[["span1",""],["span2",""],["span3",""],["span4",""],[1,"box",2,"justify-content","start","padding","0 24px"],[2,"width","370px","position","relative","left","10px","height","103px",3,"backRoute","progress","h1"],[1,"boxImc"],["name","information-circle-outline",3,"click"],[1,"resultsImc"],[1,"coresSpan"],[1,"meta"],[1,"boxImc","boxEnd"],[3,"click"]],template:function(t,n){if(1&t){const o=e.RV6();e.j41(0,"ion-content")(1,"div",4),e.nrm(2,"app-progress-h1",5),e.j41(3,"section",6)(4,"h2"),e.EFF(5,"Seu IMC"),e.k0s(),e.j41(6,"ion-icon",7),e.bIt("click",function(E){return e.eBV(o),e.Njj(n.presentPopover(E))}),e.k0s(),e.j41(7,"div",8)(8,"h3"),e.EFF(9),e.k0s(),e.j41(10,"div",9),e.nrm(11,"span",null,0)(13,"span",null,1)(15,"span",null,2)(17,"span",null,3),e.k0s(),e.j41(19,"p"),e.EFF(20),e.k0s()()(),e.j41(21,"section",10)(22,"div")(23,"h2"),e.EFF(24,"Voc\xea est\xe1"),e.k0s(),e.j41(25,"p"),e.EFF(26),e.k0s()(),e.j41(27,"div")(28,"h2"),e.EFF(29,"Peso ideal"),e.k0s(),e.j41(30,"p"),e.EFF(31),e.k0s()()(),e.j41(32,"section",11)(33,"h2"),e.EFF(34),e.k0s(),e.j41(35,"p"),e.EFF(36),e.k0s()(),e.j41(37,"ion-button",12),e.bIt("click",function(){return e.eBV(o),e.Njj(n.payment())}),e.EFF(38," Finalizar "),e.k0s()()()}2&t&&(e.R7$(2),e.Y8G("backRoute","/sugestao")("progress",n.progress)("h1","Seu perfil corporal"),e.R7$(7),e.JRh(n.imc),e.R7$(11),e.SpI("Situa\xe7\xe3o: ",n.situacao,""),e.R7$(6),e.JRh(n.mensagemSituacao),e.R7$(5),e.Lme("",n.pesoIdealMin," kg \u2013 ",n.pesoIdealMax," kg"),e.R7$(3),e.JRh(n.mensagemSituacao),e.R7$(2),e.JRh(n.text))},dependencies:[d.Jm,d.iq,d.W9,g.MD,m.YN,C.U],styles:[".box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;flex-direction:column;gap:20px;z-index:10;background-color:#fff;font-family:Montserrat,sans-serif!important}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]{height:191px;width:340px;border-radius:25px;background-color:#f2f2f2;position:relative;color:var(--azul-1);text-align:center}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:var(--azul-1)}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:22px;right:25px;font-size:25px}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;color:var(--azul-1)}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:100%;padding:0 20px}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;height:10px;border-radius:30px}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){background-color:#2c82de}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background-color:#03d46a}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background-color:#ffa91e}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background-color:#ff1a28}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:100%}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--azul-1)}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin:0}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:x-small;font-weight:700}.box[_ngcontent-%COMP%]   .boxEnd[_ngcontent-%COMP%]{height:150px;text-align:start;padding:0 20px;text-wrap:pretty}.box[_ngcontent-%COMP%]   .boxEnd[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;margin:10px 0}.box[_ngcontent-%COMP%]   .boxEnd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:small}.box[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:var(--azul-1);--background: var(--laranja);--border-radius: 20px;height:40px;width:250px;text-transform:none;font-weight:700;font-size:large;font-family:Montserrat,sans-serif!important}"]}),c})()}}]);