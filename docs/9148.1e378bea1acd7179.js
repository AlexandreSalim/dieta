"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9148],{9148:(y,g,a)=>{a.r(g),a.d(g,{ImcPage:()=>S});var m=a(467),p=a(8434),d=a(4341),l=a(1603),u=a(5873),h=a(5079),f=a(7185),t=a(1360);let M=(()=>{var s;class c{constructor(){}ngOnInit(){}}return(s=c).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["app-info-popover"]],decls:5,vars:0,consts:[[1,"ion-padding"]],template:function(e,n){1&e&&(t.j41(0,"ion-content",0)(1,"h3"),t.EFF(2,"O que \xe9 IMC?"),t.k0s(),t.j41(3,"p"),t.EFF(4," O \xcdndice de Massa Corp\xf3rea (IMC) \xe9 uma medida internacional usada para calcular se voc\xea est\xe1 dentro do peso ideal, levando em conta sua altura e seu peso. "),t.k0s()())},dependencies:[l.W9],encapsulation:2}),c})();var C=a(3694),P=a(9190),O=a(8153),x=a(7125);const v=["span1"],I=["span2"],b=["span3"],_=["span4"];function E(s,c){1&s&&t.nrm(0,"ion-spinner")}let S=(()=>{var s;class c{constructor(e,n,o,i){this.router=e,this.userStateService=n,this.authenticationService=o,this.popoverCtrl=i,this.buffer=.06,this.progress=.3,this.imc="",this.situacao="",this.mensagemSituacao="",this.text="",this.titleText="",this.isLoading=!1,this.error="",(0,h.a)({informationCircleOutline:u.jdS,chevronBackOutline:u.fKZ})}ngOnInit(){const e=this.userStateService.getCurrentData();this.altura=e.height,this.peso=e.weight,setTimeout(()=>this.calculo(),300)}calculo(){const e=Number(this.altura)/100,n=Number(this.peso)/Math.pow(Number(this.altura)/100,2);this.imc=n.toFixed(1),n<18.5?(this.situacao="Magreza",this.mensagemSituacao="Voc\xea est\xe1 abaixo do peso ideal",this.text="1 Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam quas placeat fugit harum recusandae",this.span1.nativeElement.style.padding="8px"):n<24.9?(this.situacao="Normal",this.mensagemSituacao="Voc\xea est\xe1 no peso ideal",this.text="2 Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam quas placeat fugit harum recusandae",this.span2.nativeElement.style.padding="8px"):n<29.9?(this.situacao="Sobrepeso",this.mensagemSituacao="Voc\xea est\xe1 acima do peso ideal",this.text="3 Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam quas placeat fugit harum recusandae",this.span3.nativeElement.style.padding="8px"):n<34.9?(this.situacao="Obesidade grau I",this.mensagemSituacao="Voc\xea est\xe1 acima do peso ideal",this.text="4 Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam quas placeat fugit harum recusandae",this.span4.nativeElement.style.padding="8px"):n<39.9?(this.situacao="Obesidade grau II",this.mensagemSituacao="Voc\xea est\xe1 acima do peso ideal",this.text="5 Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam quas placeat fugit harum recusandae",this.span4.nativeElement.style.padding="8px"):(this.situacao="Obesidade grau III",this.mensagemSituacao="Voc\xea est\xe1 acima do peso ideal",this.text="6 Lorem ipsum dolor sit amet consectetur, adipisicing elit. Numquam quas placeat fugit harum recusandae",this.span4.nativeElement.style.padding="8px"),this.pesoIdealMin=Math.round(18.5*e*e),this.pesoIdealMax=Math.round(24.9*e*e)}presentPopover(e){var n=this;return(0,m.A)(function*(){yield(yield n.popoverCtrl.create({component:M,event:e,translucent:!0,cssClass:"custom-popover"})).present()})()}home(){const e=this.userStateService.getCurrentData(),n={user_id:e.age,weight_kg:e.weight,height_cm:e.height,goal:e.goal,age:e.age,gender:e.gender};this.isLoading=!0,this.authenticationService.createUserHealth(n).subscribe({next:()=>{console.log("\u2714\ufe0f tudo enviado com sucesso, indo para home"),this.userStateService.clearData(),this.router.navigate(["/home"])},error:o=>{var i;console.error("\u{1f6ab} erro final:",o),this.error=(null==o||null===(i=o.error)||void 0===i?void 0:i.message)||"falha ao se cadastrar",this.isLoading=!1}})}}return(s=c).\u0275fac=function(e){return new(e||s)(t.rXU(C.Ix),t.rXU(P.q),t.rXU(O.k),t.rXU(x.IE))},s.\u0275cmp=t.VBU({type:s,selectors:[["app-imc"]],viewQuery:function(e,n){if(1&e&&(t.GBs(v,5),t.GBs(I,5),t.GBs(b,5),t.GBs(_,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.span1=o.first),t.mGM(o=t.lsd())&&(n.span2=o.first),t.mGM(o=t.lsd())&&(n.span3=o.first),t.mGM(o=t.lsd())&&(n.span4=o.first)}},decls:40,vars:12,consts:[["span1",""],["span2",""],["span3",""],["span4",""],[1,"box",2,"justify-content","start"],[2,"width","352px","height","103px",3,"progress","h1"],[1,"boxImc"],["name","information-circle-outline",3,"click"],[1,"resultsImc"],[1,"coresSpan"],[1,"meta"],[1,"boxImc","boxEnd"],[3,"click","disabled"],[4,"ngIf"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"ion-content")(1,"div",4),t.nrm(2,"app-progress-h1",5),t.j41(3,"section",6)(4,"h2"),t.EFF(5,"Seu IMC"),t.k0s(),t.j41(6,"ion-icon",7),t.bIt("click",function(F){return t.eBV(o),t.Njj(n.presentPopover(F))}),t.k0s(),t.j41(7,"div",8)(8,"h3"),t.EFF(9),t.k0s(),t.j41(10,"div",9),t.nrm(11,"span",null,0)(13,"span",null,1)(15,"span",null,2)(17,"span",null,3),t.k0s(),t.j41(19,"p"),t.EFF(20),t.k0s()()(),t.j41(21,"section",10)(22,"div")(23,"h2"),t.EFF(24,"Voc\xea est\xe1"),t.k0s(),t.j41(25,"p"),t.EFF(26),t.k0s()(),t.j41(27,"div")(28,"h2"),t.EFF(29,"Peso ideal"),t.k0s(),t.j41(30,"p"),t.EFF(31),t.k0s()()(),t.j41(32,"section",11)(33,"h2"),t.EFF(34),t.k0s(),t.j41(35,"p"),t.EFF(36),t.k0s()(),t.j41(37,"ion-button",12),t.bIt("click",function(){return t.eBV(o),t.Njj(n.home())}),t.DNE(38,E,1,0,"ion-spinner",13),t.EFF(39),t.k0s()()()}2&e&&(t.R7$(2),t.Y8G("progress",n.progress)("h1","Seu perfil corporal"),t.R7$(7),t.JRh(n.imc),t.R7$(11),t.SpI("Situa\xe7\xe3o: ",n.situacao,""),t.R7$(6),t.JRh(n.mensagemSituacao),t.R7$(5),t.Lme("",n.pesoIdealMin," kg \u2013 ",n.pesoIdealMax," kg"),t.R7$(3),t.JRh(n.mensagemSituacao),t.R7$(2),t.JRh(n.text),t.R7$(),t.Y8G("disabled",n.isLoading),t.R7$(),t.Y8G("ngIf",n.isLoading),t.R7$(),t.SpI(" ",n.isLoading?"Enviando...":"Finalizar"," "))},dependencies:[l.w2,l.Jm,l.iq,l.W9,p.MD,p.bT,d.YN,f.U],styles:[".box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;flex-direction:column;gap:20px;z-index:10;background-color:#fff;font-family:Montserrat,sans-serif!important}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]{height:191px;width:90%;border-radius:25px;background-color:#f2f2f2;position:relative;color:#000;text-align:center}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;top:22px;right:25px;font-size:25px}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;width:100%;padding:0 20px}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;height:10px;border-radius:30px}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){background-color:#2c82de}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){background-color:#03d46a}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){background-color:#ffa91e}.box[_ngcontent-%COMP%]   .boxImc[_ngcontent-%COMP%]   .resultsImc[_ngcontent-%COMP%]   .coresSpan[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){background-color:#ff1a28}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;width:100%}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#000}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;margin:0}.box[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:x-small;font-weight:700}.box[_ngcontent-%COMP%]   .boxEnd[_ngcontent-%COMP%]{height:150px;text-align:start;padding:0 20px;text-wrap:pretty}.box[_ngcontent-%COMP%]   .boxEnd[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.box[_ngcontent-%COMP%]   .boxEnd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:small}.box[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:#fff;--background: black;--border-radius: 20px;height:40px;width:250px;text-transform:none;font-weight:700;font-size:large;font-family:Montserrat,sans-serif!important}"]}),c})()}}]);